id: br.eng.silas.qpdftools
runtime: org.kde.Platform
runtime-version: '6.6'
sdk: org.kde.Sdk
command: qpdftools
cleanup:
  - '/include'
  - '/share/doc'
  - '/share/man'
finish-args:
  - --socket=wayland
  - --socket=fallback-x11
modules:
  - name: ghostscript
    buildsystem: autotools
    config-opts:
      - --disable-cups
      - --disable-dbus
      - --disable-gt
    sources:
      - type: archive
        url: https://github.com/ArtifexSoftware/ghostpdl-downloads/releases/download/gs10021/ghostscript-10.02.1.tar.gz
        sha256: e429e4f5b01615a4f0f93a4128e8a1a4d932dff983b1774174c79c0630717ad9

  - name: qpdf
    buildsystem: cmake
    builddir: true
    config-opts:
      - -DCMAKE_BUILD_TYPE=Release
    sources:
      - type: archive
        url: https://github.com/qpdf/qpdf/archive/refs/tags/v11.8.0.tar.gz
        sha256: 28911f31a836606236c1d6d6763b25c874b53d4a830c8147e4abb2d10918343e

  - name: qpdftools
    buildsystem: cmake
    config-opts:
      - -DCMAKE_BUILD_TYPE=Release
    sources:
      - type: archive
        url: https://github.com/silash35/qpdftools/archive/refs/tags/alpha-v3.0.0.tar.gz
        sha256: 79283e02429611f2223b6f598354dcfe3cddfe67722bf38108863e9f8c8900c4